{% extends "base.html" %}

{% block title %}Libros{% endblock %}

{% block contenido %}
    <h1>Libros</h1>
    <form method="POST" action="{{ url_for('manejar_libros') }}">
        <div class="form-group">
            <label for="titulo">Titulo</label>
            <input type="text" class="form-control" id="titulo" name="titulo" required>
        </div>
        <div class="form-group">
            <label for="autor">Autor</label>
            <input type="text" class="form-control" id="autor" name="autor" required>
        </div>
        <div class="form-group">
            <label for="ISBN">ISBN</label>
            <input type="text" class="form-control" id="ISBN" name="ISBN" required>
        </div>
        <div class="form-group">
            <label for="editorial">Editorial</label>
            <input type="text" class="form-control" id="editorial" name="editorial" required>
        </div>
        <button type="submit" class="btn btn-primary">Agregar libro</button>
    </form>

    <h2>Libros disponibles</h2>
    <ul class="list-group">
        {% for libro in libros%}
        <li class="list-group-item">
            {{ libro.titulo }} por {{ libro.autor }} (ISBN: {{ libro.ISBN }}) - Editorial: {{libro.editorial}}

            <form action="{{ url_for('editar_libro', isbn=libro.ISBN) }}" method="GET" style="display:inline;">
                <button type="submit" class="btn btn-warning">Editar</button>
            </form>
            
            <form action="{{ url_for('eliminar_libro', isbn=libro.ISBN) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-danger" onclick="return confirm('Â¿Seguro que quieres eliminar este libro?')">
                    Eliminar
                </button>
            </form>
        </li>
        
        {% endfor %}
    </ul>

{% endblock %}